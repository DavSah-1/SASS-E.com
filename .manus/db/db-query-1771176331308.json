{
  "query": "CREATE TABLE IF NOT EXISTS `receipt_line_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`receiptId` int NOT NULL,\n\t`itemName` varchar(255) NOT NULL,\n\t`itemDescription` text,\n\t`quantity` int NOT NULL DEFAULT 1000,\n\t`unitPrice` int NOT NULL,\n\t`totalPrice` int NOT NULL,\n\t`sku` varchar(100),\n\t`barcode` varchar(100),\n\t`categoryId` int,\n\t`subcategory` varchar(100),\n\t`lineNumber` int,\n\t`isRefunded` int DEFAULT 0,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `receipt_line_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `receipts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`transactionId` int,\n\t`sharedBudgetTransactionId` int,\n\t`merchantName` varchar(255) NOT NULL,\n\t`merchantAddress` text,\n\t`merchantPhone` varchar(50),\n\t`receiptDate` timestamp NOT NULL,\n\t`receiptNumber` varchar(100),\n\t`paymentMethod` enum('cash','credit_card','debit_card','mobile_payment','other'),\n\t`subtotal` int,\n\t`tax` int,\n\t`tip` int,\n\t`discount` int,\n\t`total` int NOT NULL,\n\t`currency` varchar(3) DEFAULT 'USD',\n\t`imageUrl` varchar(512) NOT NULL,\n\t`thumbnailUrl` varchar(512),\n\t`fileSize` int,\n\t`mimeType` varchar(50),\n\t`ocrStatus` enum('pending','processing','completed','failed') DEFAULT 'pending',\n\t`ocrProvider` varchar(50),\n\t`ocrRawText` text,\n\t`ocrConfidence` int,\n\t`ocrProcessedAt` timestamp,\n\t`ocrErrorMessage` text,\n\t`categoryId` int,\n\t`suggestedCategory` varchar(100),\n\t`categoryConfidence` int,\n\t`status` enum('draft','verified','disputed','archived') DEFAULT 'draft',\n\t`notes` text,\n\t`tags` text,\n\t`isReimbursable` int DEFAULT 0,\n\t`reimbursementStatus` enum('pending','approved','rejected','paid'),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`verifiedAt` timestamp,\n\tCONSTRAINT `receipts_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX IF NOT EXISTS `idx_receipt_line_items_receipt_id` ON `receipt_line_items` (`receiptId`);\nCREATE INDEX IF NOT EXISTS `idx_receipt_line_items_category_id` ON `receipt_line_items` (`categoryId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_user_id` ON `receipts` (`userId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_transaction_id` ON `receipts` (`transactionId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_merchant_name` ON `receipts` (`merchantName`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_receipt_date` ON `receipts` (`receiptDate`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_ocr_status` ON `receipts` (`ocrStatus`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_status` ON `receipts` (`status`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_created_at` ON `receipts` (`createdAt`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3nggiiWQDu5Xrc9.root --database 8mC6ZNEwokHKmKSGT6E4hn --execute CREATE TABLE IF NOT EXISTS `receipt_line_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`receiptId` int NOT NULL,\n\t`itemName` varchar(255) NOT NULL,\n\t`itemDescription` text,\n\t`quantity` int NOT NULL DEFAULT 1000,\n\t`unitPrice` int NOT NULL,\n\t`totalPrice` int NOT NULL,\n\t`sku` varchar(100),\n\t`barcode` varchar(100),\n\t`categoryId` int,\n\t`subcategory` varchar(100),\n\t`lineNumber` int,\n\t`isRefunded` int DEFAULT 0,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `receipt_line_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `receipts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`transactionId` int,\n\t`sharedBudgetTransactionId` int,\n\t`merchantName` varchar(255) NOT NULL,\n\t`merchantAddress` text,\n\t`merchantPhone` varchar(50),\n\t`receiptDate` timestamp NOT NULL,\n\t`receiptNumber` varchar(100),\n\t`paymentMethod` enum('cash','credit_card','debit_card','mobile_payment','other'),\n\t`subtotal` int,\n\t`tax` int,\n\t`tip` int,\n\t`discount` int,\n\t`total` int NOT NULL,\n\t`currency` varchar(3) DEFAULT 'USD',\n\t`imageUrl` varchar(512) NOT NULL,\n\t`thumbnailUrl` varchar(512),\n\t`fileSize` int,\n\t`mimeType` varchar(50),\n\t`ocrStatus` enum('pending','processing','completed','failed') DEFAULT 'pending',\n\t`ocrProvider` varchar(50),\n\t`ocrRawText` text,\n\t`ocrConfidence` int,\n\t`ocrProcessedAt` timestamp,\n\t`ocrErrorMessage` text,\n\t`categoryId` int,\n\t`suggestedCategory` varchar(100),\n\t`categoryConfidence` int,\n\t`status` enum('draft','verified','disputed','archived') DEFAULT 'draft',\n\t`notes` text,\n\t`tags` text,\n\t`isReimbursable` int DEFAULT 0,\n\t`reimbursementStatus` enum('pending','approved','rejected','paid'),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`verifiedAt` timestamp,\n\tCONSTRAINT `receipts_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX IF NOT EXISTS `idx_receipt_line_items_receipt_id` ON `receipt_line_items` (`receiptId`);\nCREATE INDEX IF NOT EXISTS `idx_receipt_line_items_category_id` ON `receipt_line_items` (`categoryId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_user_id` ON `receipts` (`userId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_transaction_id` ON `receipts` (`transactionId`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_merchant_name` ON `receipts` (`merchantName`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_receipt_date` ON `receipts` (`receiptDate`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_ocr_status` ON `receipts` (`ocrStatus`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_status` ON `receipts` (`status`);\nCREATE INDEX IF NOT EXISTS `idx_receipts_created_at` ON `receipts` (`createdAt`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 5379
}